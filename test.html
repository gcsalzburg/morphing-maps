<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,initial-scale=1">
		<title>Test morphing</title>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/snap.svg/0.5.1/snap.svg-min.js"></script>

        <style>
        .real_path, .fake_path{
            fill: none;
            stroke-linejoin:round;
            stroke-miterlimit:4;
            stroke-width:2;
        }
        .real_path{
            opacity:0;
        }
        .fake_path{
            opacity:1;
        }
        
        </style>
	</head>
	<body>
		<!-- page content -->
            
        
        <svg id="cups" x="0px" y="0px" width="807px" height="518px" viewBox="299.766 180.889 807 518"  xmlns="http://www.w3.org/2000/svg">
    <path id="Central-Real-3_1_" class="real_path" stroke="#EE3124" d="M505.299,423.935c-4.442-0.944-7.773,1.554-9.327,4.553
	c-1.276,2.462-2.586,10.934-8.05,13.268c-5.718,2.442-10.271,3.332-13.047,3.887c-4.211,0.868-8.67,1.521-13.564,2.36"/>
<line id="Central-Map-3_1_" class="fake_path" stroke="#EE3124" x1="503.761" y1="452.833" x2="544.148" y2="452.833"/>
<path id="Central-Real-2_1_" class="real_path" stroke="#EE3124" d="M898.143,314.566c4.885-6.661,19.313-5.773,26.529-7.66
	c5.035-1.316,20.994-5.315,32.756-6.106c13.213-0.889,23.65,4.996,27.203,8.771c3.553,3.775,8.772,7.107,14.768,5.33
	c5.996-1.776,7.145-7.766,5.9-15.677c-1.237-7.862-1.487-12.597-0.863-20.521c1.109-14.1,1.887-22.761,3.109-30.312
	c1.222-7.551,6.328-19.209,4.773-24.428c-1.555-5.218-4.219-8.549-9.326-10.659c-5.108-2.108-15.768-7.216-23.317-8.883
	c-7.55-1.664-14.666-3.103-23.317-2.554c-5.259,0.333-9.15,0.587-11.462,1.119c-2.813,0.646-6.463,1.164-7.473,4.257"/>
<path id="Central-Map-2_1_" class="fake_path" stroke="#EE3124" d="M878.668,360.966c0-1.376,0.558-2.621,1.46-3.522c0.901-0.902,2.145-1.459,3.521-1.459
	h19.6c1.377,0,2.62-0.558,3.524-1.459c0.9-0.902,1.46-2.147,1.46-3.524v-10.765v0.704v-12.135c0-1.375-0.56-2.621-1.46-3.523
	c-0.904-0.901-2.147-1.458-3.524-1.458h-19.634c-1.373,0-2.617,0.557-3.521,1.458c-0.9,0.902-1.458,2.148-1.458,3.523"/>
<path id="Central-Real-1_1_" class="real_path" stroke="#EE3124" d="M263.906,337.435c0,0,21.108,10.825,25.882,13.269
	c4.775,2.442,18.876,9.327,26.871,12.769c7.995,3.443,21.541,8.551,30.535,12.103c8.994,3.553,32.421,11.88,40.416,14.769
	c7.994,2.887,24.271,7.828,29.979,9.327c6.773,1.775,17.766,4.551,25.649,6.549c7.882,2,22.54,7.551,28.091,9.218
	c5.552,1.664,15.989,4.552,20.208,5.439c4.219,0.889,18.654,4.108,27.425,6.551c0.514,0.145,0.999,0.287,1.458,0.43l-0.021,0.021
	c7.404,2.313,8.926,4.839,13.108,11.319c4.441,6.885,10.215,6.773,13.101,6.663c2.328-0.091,6.985-1.193,11.098-1.272
	c5.774-0.111,9.66,0,10.771,5.219c1.031,4.849,1.776,10.991,2.331,14.101c0.393,2.197,2.22,3.553,5.108,2.998
	c0.229,0.049,5.33-0.999,13.441-3.503c8.295-2.558,19.319-6.218,19.319-6.218s12.214-3.108,20.431-4.995
	c8.217-1.888,22.318-4.442,29.646-5.887c7.328-1.442,25.002-4.789,29.868-5.771c6.052-1.223,20.818-1.889,24.483-1.777
	c2.887,0.087,9.05-0.777,19.042,0.555c9.993,1.333,18.586,4.219,21.318,5.774c4.531,2.577,7.621,2.831,10.784,2.664
	c2.683-0.141,3.671-4.396,4.649-7.105c1.443-3.997,2.613-6.625,3.775-9.661c3.486-9.103,12.147-15.156,14.893-16.653
	c3.054-1.667,6.635-2.184,8.438-2.499c2.181-0.382,8.522-0.389,12.536,1.504c0,0,19.033,8.717,29.581,4.606
	c6.475-2.521,8.717-5.621,11.271-8.882c0,0,2.442-4.663,7.326-7.773c0.543-0.331,1.094-0.698,1.651-1.091
	c0,0,14.283-11.344,18.726-16.896v0.055c3.441-3.331,3.33-7.771,3.164-9.547c-0.167-1.776-0.84-3.526-0.84-3.526
	c-0.599-1.528-2.738-4.631-3.658-5.857c-0.999-1.332-2.826-3.798-3.274-7.66c-0.555-4.774-0.626-6.884,0.93-10.659
	c1.554-3.777,2.886-4.998,5.328-7.773c2.443-2.775,10.215-12.435,13.657-16.322c3.443-3.886,13.325-17.765,15.435-21.651
	c2.109-3.885,5.329-13.212,6.994-17.765c1.666-4.554,3.443-12.325,4.44-17.876c1-5.553,2.673-13.918,3.846-18.766
	c1.667-6.884,2.333-11.325,5.26-18.432c3.406-8.265,11.104-24.316,12.546-28.424c1.439-4.097,5.584-15.473,6.985-25.805
	c1.637-12.059-1.696-24.271,7.854-30.935c7.251-5.059,19.875-0.222,22.318,0.556c2.442,0.777,13.093,1.838,20.54-3.553
	c8.439-6.106,11.447-24.092,12.255-27.759c1.666-7.55,6.218-33.976,7.44-39.973c1.22-5.995,6.328-35.863,7.55-41.858
	c1.221-5.996,3.552-12.881,3.552-12.881"/>
<path id="Central-Map-1_1_" class="fake_path" stroke="#EE3124" d="M493.461,323.349v20.659v-0.379v58.518c0,1.375,0.559,2.621,1.459,3.523l45.705,45.704
	c0.903,0.902,2.148,1.459,3.523,1.459l183.846-0.002c1.377,0,2.621,0.559,3.524,1.46l7.089,7.09c0.901,0.902,2.146,1.46,3.522,1.46
	h11.65c1.377,0,2.622-0.558,3.524-1.46l28.984-29.163c0.902-0.902,2.148-1.459,3.523-1.459h47.659c1.374,0,2.617-0.558,3.521-1.459
	l36.216-36.335c0.973-0.972,1.459-2.248,1.459-3.523l-0.032-79.803c0-1.336,0.556-2.645,1.457-3.546l18.025-18.024"/>
<path id="Bakerloo-Real_2_" class="real_path" stroke="#B06010" d="M405.325,276.344c2.085,1.507,3.853,2.685,3.853,2.685
	c3.564,2.423,9.195,6.25,11.477,8.076c4.09,3.272,12.406,12.11,16.175,19.531c3.575,7.037,10.326,23.218,13.565,31.039
	c3.148,7.598,13.596,26.527,16.619,31.063c2.546,3.819,4.838,5.112,12.718,6.604c8.825,1.668,20.105,8.759,25.728,12.325
	c5.717,3.629,18.566,11.149,23.403,13.566c2.037,1.02,5.165,2.29,8.708,3.442l2.615,0.805c3.849,1.112,7.921,1.984,11.489,2.223
	c2.848,0.188,6.049,0.125,9.112-0.252c3.187-0.391,6.193-0.928,8.437-1.313c2.303-0.393,6.896-1.297,11.579-2.633
	c2.942-0.778,6.052-2.695,8.272-4.108c2.442-1.557,7.162-3.499,7.162-3.499c9.863-4.813,18.077,6.04,21.803,10.604
	c4.441,5.44,6.44,8.218,8.216,10.659c1.776,2.444,1.292,7.217,1.292,10.215c0,2.157,0.224,7.307,1.499,9.494
	c1.36,2.33,4.074,2.983,4.775,2.941c3.775-0.221,6.906-5.642,8.27-6.951c2.746-2.637,9.283-4.281,11.3-4.763
	c4.664-1.109,9.959-2.479,13.629-3.107c1.942-0.333,2.728-0.437,4.83-0.723c2.665-0.361,3.705,0.555,4.26,1.666
	c0.555,1.11,4.219,9.548,5.44,12.213c1.222,2.666,3.553,8.105,4.442,9.883c0.887,1.776,3.383,7.841,8.494,9.103
	c1.347,0.336,2.236,0.313,6.343,0.611c3.054,0.223,4.164,0.667,5.829,1.778c1.665,1.11,2.276,1.998,3.165,2.774
	c1.742,1.632,4.148,3.192,6.938,4.33c4.965,2.027,9.467,9.237,9.828,10.16l-0.722-1.276c0,0,1.598,2.953,1.998,3.609
	c4.608,7.55,20.083,11.992,20.083,11.992"/>
<path id="Bakerloo-Map_2_" class="fake_path" stroke="#B06010" d="M578.764,334.021v68.503c0,1.897,0.792,3.436,2.038,4.683l7.791,7.742
	c0.973,0.973,2.249,1.459,3.522,1.459h51.249c1.374,0,2.144,0.083,3.047,0.985l23.278,23.278c0.973,0.972,1.459,2.247,1.459,3.522
	l0.001,13.902c0,1.42,0.51,2.902,1.483,3.875l26.07,26.07c0.971,0.971,1.457,2.247,1.457,3.52v47.113
	c0,1.274,0.488,2.551,1.46,3.523l8.478,8.477"/>
        </svg>

        <script>
        var central_map_1 = Snap.select('#Central-Map-1_1_');
        var central_real_1 = Snap.select('#Central-Real-1_1_');
        var central_map_1_points = central_map_1.node.getAttribute('d');
        var central_real_1_points = central_real_1.node.getAttribute('d');

        var central_map_2 = Snap.select('#Central-Map-2_1_');
        var central_real_2 = Snap.select('#Central-Real-2_1_');
        var central_map_2_points = central_map_2.node.getAttribute('d');
        var central_real_2_points = central_real_2.node.getAttribute('d');

        var central_map_3 = Snap.select('#Central-Map-3_1_');
        var central_real_3 = Snap.select('#Central-Real-3_1_');
        var central_map_3_points = central_map_3.node.getAttribute('d');
        var central_real_3_points = central_real_3.node.getAttribute('d');

        var bakerloo_map_1 = Snap.select('#Bakerloo-Map_2_');
        var bakerloo_real_1 = Snap.select('#Bakerloo-Real_2_');
        var bakerloo_map_1_points = bakerloo_map_1.node.getAttribute('d');
        var bakerloo_real_1_points = bakerloo_real_1.node.getAttribute('d');

        var toFancy = function(){
            central_map_1.animate({ d: central_map_1_points }, 2000, mina.easeout, toSimple);  
            central_map_2.animate({ d: central_map_2_points }, 2000, mina.easeout);  
            central_map_3.animate({ d: central_map_3_points }, 2000, mina.easeout);  
            bakerloo_map_1.animate({ d: bakerloo_map_1_points }, 2000, mina.easeout);  
        }
        var toSimple = function(){
            central_map_1.animate({ d: central_real_1_points }, 2000, mina.easeout, toFancy); 
            central_map_2.animate({ d: central_real_2_points }, 2000, mina.easeout); 
            central_map_3.animate({ d: central_real_3_points }, 2000, mina.easeout); 
            bakerloo_map_1.animate({ d: bakerloo_real_1_points }, 2000, mina.easeout); 
        }

        toSimple();
        </script>

	</body>

</html>